# Спецификация BLE-маячков для системы навигации

## 1. Общее описание

BLE-маячки (beacons) являются ключевым компонентом системы внутренней навигации. Они устанавливаются в фиксированных точках помещения и транслируют уникальные идентификаторы, которые мобильное приложение использует для определения местоположения пользователя.

## 2. Технические характеристики маячков

### 2.1 Радиус действия
- Минимальный радиус: 1 метр
- Максимальный радиус: 10-30 метров (в зависимости от препятствий)
- Рекомендуемое расстояние между маячками: 3-5 метров

### 2.2 Энергопотребление
- Режим передачи: 100 мс интервал между передачами
- Режим сна: минимальное потребление энергии
- Работа от батареек: не менее 12 месяцев

### 2.3 Протокол передачи
- Стандарт: Bluetooth 4.0 и выше (BLE)
- Частота: 2.4 ГГц
- Протоколы: iBeacon (Apple), Eddystone (Google) или кастомный протокол

### 2.4 Точность определения местоположения
- Зависит от плотности размещения маячков
- Точность: 1-3 метра при правильной установке

## 3. Размещение маячков

### 3.1 Стратегия размещения
- Равномерное распределение по периметру помещения
- Учет зон с высокой проходимостью
- Избегать металлических препятствий
- Учет этажности здания (отдельные маячки для каждого этажа)

### 3.2 Высота установки
- Рекомендуемая высота: 2-3 метра от пола
- Учет преград (стены, мебель, оборудование)

## 4. Идентификация маячков

### 4.1 Уникальные параметры
- UUID (Universally Unique Identifier)
- Major и Minor значения для идентификации конкретного маячка
- Мощность передатчика (TX Power) для калибровки RSSI

### 4.2 Привязка к координатам
- Каждый маячок должен быть сопоставлен с физическими координатами в помещении
- Хранение координат в базе данных сервера

## 5. Калибровка и тестирование

### 5.1 Процесс калибровки
- Измерение RSSI на фиксированном расстоянии (обычно 1 метр)
- Учет особенностей помещения (материалы, препятствия)
- Настройка параметров для алгоритмов локализации

### 5.2 Мониторинг состояния
- Проверка доступности маячков
- Мониторинг уровня заряда батареек
- Уведомления о выходе из строя маячков

## 6. Варианты реализации

### 6.1 Коммерческие решения
- Estimote Beacons
- Kontakt.io
- Gimbal
- BlueCats

### 6.2 Самодельные решения
- Использование Arduino с BLE-модулем
- ESP32 с BLE-функциональностью
- Raspberry Pi Zero W

## 7. Безопасность

- Защита от подделки идентификаторов
- Шифрование передаваемых данных (при необходимости)
- Защита от несанкционированного доступа к маячкам